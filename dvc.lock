schema: '2.0'
stages:
  test:
    cmd: pytest --junitxml=reports/tests.xml --cov=src --cov-report=xml:reports/coverage.xml
    deps:
    - path: src
      md5: 86c91a6afcbfa6f7968600ceb8e78afb.dir
      size: 39863
      nfiles: 26
    - path: tests
      md5: 4f4b51ecb2e30408cbfac9c7287d3824.dir
      size: 10897
      nfiles: 13
    outs:
    - path: reports/coverage.xml
      md5: 358400b8b8e491417e28d4e1131080fb
      size: 9776
      isexec: true
    - path: reports/tests.xml
      md5: e1047858b548930eb385bcbb4e144867
      size: 966
      isexec: true
  preprocess:
    cmd: python -m src.preprocess
    deps:
    - path: data/raw/raw.tsv
      md5: a1d55666d530e7ad6150aafd18b2f909
      size: 9362397
    - path: src/conf.py
      md5: 346613cb38adbdbe606ff312423378f8
      size: 419
    - path: src/preprocess.py
      md5: 39783b3358f6504b48a21d37f5151f3b
      size: 2031
    - path: src/utils.py
      md5: 7a96686674bfddc2391b8aba08921d1a
      size: 756
    outs:
    - path: data/processed/preprocessed.csv
      md5: e6946e2b5b09cf26c6c460ab6df69e99
      size: 8118533
      isexec: true
  train:
    cmd: python -m src.train
    deps:
    - path: data/processed/train.joblib
      md5: 553eb98537b18869bdd9f5378890b6d9
      size: 8011362
    - path: data/processed/validation.joblib
      md5: e5e41b0ba045e7a46849342732057ac7
      size: 3432637
    - path: src/conf.py
      md5: 346613cb38adbdbe606ff312423378f8
      size: 419
    - path: src/model.py
      md5: 7450dafe86ca1ad0365daddd3c5a58bd
      size: 6466
    - path: src/preprocess.py
      md5: 39783b3358f6504b48a21d37f5151f3b
      size: 2031
    - path: src/train.py
      md5: 8fe5e66f223ec852a3bb5a29951d401d
      size: 913
    - path: src/utils.py
      md5: 7a96686674bfddc2391b8aba08921d1a
      size: 756
    outs:
    - path: output/BagOfWords.json
      md5: 848981a3d77394c7d5641f2ca7792cfd
      size: 144
      isexec: true
    - path: output/TFIDF.json
      md5: fa5873e4c494d1ff27b9bd413968016d
      size: 139
      isexec: true
    - path: output/models/BagOfWords.joblib
      md5: 381cb116d5a50c3771f68124d782df31
      size: 4118323
      isexec: true
    - path: output/models/TFIDF.joblib
      md5: dbde429b095365e7b338a3fb1bedf74b
      size: 18352884
      isexec: true
  validate:
    cmd: python -m src.validate
    deps:
    - path: data/processed/preprocessed.csv
      md5: e6946e2b5b09cf26c6c460ab6df69e99
      size: 8118533
    - path: output/data/schema.txt
      md5: 221546fe759d153800839f0fba62f571
      size: 283
    - path: src/conf.py
      md5: 346613cb38adbdbe606ff312423378f8
      size: 419
    - path: src/utils.py
      md5: 7a96686674bfddc2391b8aba08921d1a
      size: 756
    - path: src/validate.py
      md5: 75a456656f55ea3700bcd78f9e132588
      size: 1900
    outs:
    - path: data/processed/train.joblib
      md5: 553eb98537b18869bdd9f5378890b6d9
      size: 8011362
      isexec: true
    - path: data/processed/validation.joblib
      md5: e5e41b0ba045e7a46849342732057ac7
      size: 3432637
      isexec: true
  gen_schema:
    cmd: python -m src.gen_schema
    deps:
    - path: data/processed/preprocessed.csv
      md5: e6946e2b5b09cf26c6c460ab6df69e99
      size: 8118533
    - path: src/conf.py
      md5: 346613cb38adbdbe606ff312423378f8
      size: 419
    - path: src/gen_schema.py
      md5: 10562de402b4eacf4df428fbd76a7a00
      size: 566
    - path: src/utils.py
      md5: 7a96686674bfddc2391b8aba08921d1a
      size: 756
    outs:
    - path: output/data/schema.txt
      md5: 221546fe759d153800839f0fba62f571
      size: 283
      isexec: true
