schema: '2.0'
stages:
  test:
    cmd: pytest --junitxml=reports/tests.xml --cov=lib --cov-report=xml:reports/coverage.xml
    deps:
    - path: lib/conf.py
      md5: ffb49be58fe9548e1e82017a64091bc6
      size: 418
    - path: lib/model.py
      md5: 1ce7a813c23ca3d3d65207a081c052df
      size: 6465
    - path: lib/preprocess.py
      md5: efdf46803eab92eabb75cf6a16955ee5
      size: 861
    - path: lib/utils.py
      md5: 2757e848d4c800038e2630283f9feee8
      size: 755
    - path: output/models/BagOfWords.joblib
      md5: a3378c9908a9c65abe9627e62d51d048
      size: 4118323
    - path: output/models/TFIDF.joblib
      md5: 17cdb1b32cc776638e7fd9befb7149d9
      size: 18352884
    - path: tests
      md5: ce0f1a5e5df252db4e0e6b7c933e83e5.dir
      size: 2478
      nfiles: 6
    outs:
    - path: reports/coverage.xml
      md5: f609cada68038eb5f5beaece36156e36
      size: 5729
      isexec: true
    - path: reports/tests.xml
      md5: f8d42d587a8a9ebdcf9ac15f17593ef0
      size: 485
      isexec: true
  preprocess:
    cmd: python -m pipeline.preprocess
    deps:
    - path: data/raw/raw.tsv
      md5: a1d55666d530e7ad6150aafd18b2f909
      size: 9362397
    - path: lib/conf.py
      md5: ffb49be58fe9548e1e82017a64091bc6
      size: 418
    - path: lib/model.py
      md5: 1ce7a813c23ca3d3d65207a081c052df
      size: 6465
    - path: lib/preprocess.py
      md5: efdf46803eab92eabb75cf6a16955ee5
      size: 861
    - path: lib/utils.py
      md5: 2757e848d4c800038e2630283f9feee8
      size: 755
    - path: pipeline/preprocess.py
      md5: 8ee4bdaabd04cf828e5e207a20e9eb86
      size: 1191
    outs:
    - path: data/processed/preprocessed.csv
      md5: e6946e2b5b09cf26c6c460ab6df69e99
      size: 8118533
      isexec: true
  train:
    cmd: python -m pipeline.train
    deps:
    - path: data/processed/train.joblib
      md5: 553eb98537b18869bdd9f5378890b6d9
      size: 8011362
    - path: data/processed/validation.joblib
      md5: e5e41b0ba045e7a46849342732057ac7
      size: 3432637
    - path: lib/conf.py
      md5: ffb49be58fe9548e1e82017a64091bc6
      size: 418
    - path: lib/model.py
      md5: 1ce7a813c23ca3d3d65207a081c052df
      size: 6465
    - path: lib/preprocess.py
      md5: efdf46803eab92eabb75cf6a16955ee5
      size: 861
    - path: lib/utils.py
      md5: 2757e848d4c800038e2630283f9feee8
      size: 755
    - path: pipeline/train.py
      md5: af06d1154e92fb08fdb81f9957116ee8
      size: 913
    outs:
    - path: output/BagOfWords.json
      md5: 7fbf796aa586b9e966584cf8236d1ad8
      size: 143
      isexec: true
    - path: output/TFIDF.json
      md5: 507ab45841a25a665f64ddb6e91336cf
      size: 143
      isexec: true
    - path: output/models/BagOfWords.joblib
      md5: a3378c9908a9c65abe9627e62d51d048
      size: 4118323
      isexec: true
    - path: output/models/TFIDF.joblib
      md5: 17cdb1b32cc776638e7fd9befb7149d9
      size: 18352884
      isexec: true
  validate:
    cmd: python -m pipeline.validate
    deps:
    - path: data/processed/preprocessed.csv
      md5: e6946e2b5b09cf26c6c460ab6df69e99
      size: 8118533
    - path: lib/conf.py
      md5: ffb49be58fe9548e1e82017a64091bc6
      size: 418
    - path: lib/model.py
      md5: 1ce7a813c23ca3d3d65207a081c052df
      size: 6465
    - path: lib/preprocess.py
      md5: efdf46803eab92eabb75cf6a16955ee5
      size: 861
    - path: lib/utils.py
      md5: 2757e848d4c800038e2630283f9feee8
      size: 755
    - path: output/data/schema.txt
      md5: 221546fe759d153800839f0fba62f571
      size: 283
    - path: pipeline/validate.py
      md5: 842dadd9ea5c6bb89a43615283f672ed
      size: 1900
    outs:
    - path: data/processed/train.joblib
      md5: 553eb98537b18869bdd9f5378890b6d9
      size: 8011362
      isexec: true
    - path: data/processed/validation.joblib
      md5: e5e41b0ba045e7a46849342732057ac7
      size: 3432637
      isexec: true
  gen_schema:
    cmd: python -m pipeline.gen_schema
    deps:
    - path: data/processed/preprocessed.csv
      md5: e6946e2b5b09cf26c6c460ab6df69e99
      size: 8118533
    - path: lib/conf.py
      md5: ffb49be58fe9548e1e82017a64091bc6
      size: 418
    - path: lib/model.py
      md5: 1ce7a813c23ca3d3d65207a081c052df
      size: 6465
    - path: lib/preprocess.py
      md5: efdf46803eab92eabb75cf6a16955ee5
      size: 861
    - path: lib/utils.py
      md5: 2757e848d4c800038e2630283f9feee8
      size: 755
    - path: pipeline/gen_schema.py
      md5: 86b25080ad4e5d60995858236c1cb192
      size: 566
    outs:
    - path: output/data/schema.txt
      md5: 221546fe759d153800839f0fba62f571
      size: 283
      isexec: true
